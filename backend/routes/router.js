const express = require('express')
const router = express.Router()
const schemas = require('../models/schemas')

router.post('/contact', async (req, res) => {
  const {id, imageURL, name, isPicked} = req.body

  const contactData = {
    id: id,
    imageURL: imageURL,
    name: name,
    isPicked: isPicked,
  }

  const newContact = new schemas.Contact(contactData)
  const saveContact = await newContact.save()

  if (saveContact) {
    res.send('Message sent. Thank you.')
  } else {
    res.send('Failed to send message')
  }

  res.end()
  
})

router.get('/users', async (req, res) => {

  const users = schemas.Contact

  const userData = await users.find({}).exec()

  if (userData) {

    res.send(JSON.stringify(userData))

  }


  // const userData =   [
  //   {
  //     id: 1,
  //     imageURL: "https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcR5EbDhaWm5r9nefLZBdPFhxG0sZFk3t8w83gdkW8l-RjwEWB9f",
  //     name: "石井 蘭",
  //     isPicked: false            
  //   },
  //   {
  //     id: 2,
  //     imageURL: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQph8ZY0gegM6M5iXBeRFgIcz8AgGcxpC2BBs0pKLVBcrx6eRzP",
  //     name: "加藤 心",
  //     isPicked: false
  //   },
  //   {
  //     id: 3,
  //     imageURL: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ9F3ae2DieRo9CqkidwwEk4K4N-rO2HOxcNwqxA2lJHjyRlUbA",
  //     name: "高見 文寧",
  //     isPicked: false
  //   },
  //   {
  //     id: 4,
  //     imageURL: "https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcTH37I_tNaE2W-bEJZK_x3jQmNxYmh913Cz0oyoAUzxg5193NXF",
  //     name: "斉藤 芹菜",
  //     isPicked: false
  //   },
  //   {
  //     id: 5,
  //     imageURL: "https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSOLXnjg7OxOSQ9DEOdSPzVr-g1a10qBbknjnujoOTx5x4DFGK5",
  //     name: "荒牧 深愛",
  //     isPicked: false
  //   },
  //   {
  //     id: 6,
  //     imageURL: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT0w3HxrP7i7ImC7pFMyy1kl-7q3UZ4M_JPTScBcGACL5J-QAWz",
  //     name: "坂田 琴音",
  //     isPicked: false
  //   },
  //   {
  //     id: 7,
  //     imageURL: "https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTkOr43xzr7Cq5GU_kaHXc0vbUWlJeIrlDbDE_LljcQg6gSa0x1",
  //     name: "須谷 緩",
  //     isPicked: false
  //   },
  //   {
  //     id: 8,
  //     imageURL: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQYTv8ctG_hXvnP_mRSk8dowm_9K2BJLi7nvPRaiCEgynpPh2Nx",
  //     name: "大坪 楓恋",
  //     isPicked: false
  //   },
  //   {
  //     id: 9,
  //     imageURL: "https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcSIlEel16rgdKDHueXOaVasGoky0WjQBbQ7LAq4_O2dh6tmduAz",
  //     name: "吉田 彩乃",
  //     isPicked: false
  //   },
  //   {
  //     id: 10,
  //     imageURL: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTJnlVJPaO2-ToKVVGo2fn7re4oZQozgOzBa_0Kq9ma0-BDtRXu",
  //     name: "菅野 美優",
  //     isPicked: false
  //   },
  //   {
  //     id: 11,
  //     imageURL: "https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcS75-FnM_WipkGhPbyo7UumgAaQ4SMOQ862F952-XQFSsQO1H-f",
  //     name: "茂木 詩音",
  //     isPicked: false
  //   },
  //   {
  //     id: 12,
  //     imageURL: "https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQjifrtI9L3QOe80Eg0HJ5wUyxXV5p5u3iFpMtN-nz4H2GPdd6v",
  //     name: "海老原 鼓",
  //     isPicked: false
  //   },
  //   {
  //     id: 13,
  //     imageURL: "https://produce101.jp/static/produce101s3/profile/Fv4BWpHPcDWMaUvvNw/profile/046_sakuraimiu.jpg",
  //     name: "櫻井 美羽",
  //     isPicked: false
  //   },
  //   {
  //     id: 14,
  //     imageURL: "https://produce101.jp/static/produce101s3/profile/Fv4BWpHPcDWMaUvvNw/profile/096_yamamotosuzu.jpg",
  //     name: "山本 すず",
  //     isPicked: false
  //   }
  // ]

  

})

module.exports = router